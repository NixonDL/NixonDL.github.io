
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Science Project 2019: MiniMax Tic-Tac-Toe</title>
    <script type="text/javascript">
      var xTurn = true;
      var gameOver = false;
      var numMoves = 0;
      //beginning of checkWin function
      function checkWin(){
        var status = document.getElementById('status');
        var val0;
        var val1;
        var val2;
        // check columns
        for(var x = 0;x<9;x=x+3){
          val0 =document.getElementById(x.toString()).value;
          val1 =document.getElementById((x+1).toString()).value;
          val2 =document.getElementById((x+2).toString()).value;
          if(val0 == 'X' && val1 == 'X' && val2 == 'X'){
            status.innerHTML = "X WINS!";
            return true;
          }
          else if(val0 == 'O' && val1 == 'O' && val2 == 'O'){
            status.innerHTML = "O WINS!";
            return true;
          }     
        }
        //check rows
        for(var x = 0;x<3;x++){
          val0 =document.getElementById(x.toString()).value;
          val1 =document.getElementById((x+3).toString()).value;
          val2 =document.getElementById((x+6).toString()).value;
          if(val0 == 'X' && val1 == 'X' && val2 == 'X'){
            status.innerHTML = "X WINS!";
            return true;
          }
          else if(val0 == 'O' && val1 == 'O' && val2 == 'O'){
            status.innerHTML = "O WINS!";
            return true;
          }     
        }
        //check top left to lower right diagonal
        val0 =document.getElementById((0).toString()).value;
        val1 =document.getElementById((4).toString()).value;
        val2 =document.getElementById((8).toString()).value;
        if(val0 == 'X' && val1 == 'X' && val2 == 'X'){
          status.innerHTML = "X WINS!";
          return true;
        }
        else if(val0 == 'O' && val1 == 'O' && val2 == 'O'){
          status.innerHTML = "O WINS!";
          return true;
        }
        //check lower left to top right diagonal
        val0 =document.getElementById((6).toString()).value;
        val1 =document.getElementById((4).toString()).value;
        val2 =document.getElementById((2).toString()).value;
        if(val0 == 'X' && val1 == 'X' && val2 == 'X'){
          status.innerHTML = "X WINS!";
          return true;
        }
        else if(val0 == 'O' && val1 == 'O' && val2 == 'O'){
          status.innerHTML = "O WINS!";
          return true;
        }
        //no winner yet
        return false;
      }//end of checkWin function
      //beginning of newgame function
      function newgame(){
        var status = document.getElementById('status');
        xTurn = true;
        numMoves = 0;
        gameOver = false;
        status.innnerHTML = 'X\'s turn';
        for(var x = 0;x<9;x++){
          document.getElementById(x.toString()).value = '';
        }
      }
      // end of newgame function
      //beginning of squareclicked function
      function squareclicked(square)
      //squareclicked is a function that is called whenever a button is clicked.
      {
        var status = document.getElementById('status');
        var value = square.value;
        if(gameOver){
          alert("The game is already over.");
          return;
        }
        if(value !='X' && value !='O')
        {
          if(xTurn)
          {
            numMoves++;
            square.value = 'X';
            xTurn = false;
            status.innerHTML = 'O\'s turn';

          }
          else
          {
            numMoves++;
            square.value = 'O';
            xTurn = true;
            status.innerHTML = 'X\'s turn';
          }
        }
        else
          alert('That square has already been played.');
    var winner = checkWin();
        if(!winner){
          //check to see if there is a tie
          if(numMoves == 9){
            status.innerHTML = 'Tie Game!';
          }
        }
        else
          gameOver = true;
      }
      //end of squareclicked function
      
     
    </script>
      
      
                  
  </head>
  <body>
    <input type="button" id="0" value="" onclick="squareclicked(this);">
    <input type="button" id="1" value="" onclick="squareclicked(this);">
    <input type="button" id="2" value="" onclick="squareclicked(this);">
    <br>
    <input type="button" id="3" value="" onclick="squareclicked(this);">
    <input type="button" id="4" value="" onclick="squareclicked(this);">
    <input type="button" id="5" value="" onclick="squareclicked(this);">
    <br>
    <input type="button" id="6" value="" onclick="squareclicked(this);">
    <input type="button" id="7" value="" onclick="squareclicked(this);">
    <input type="button" id="8" value="" onclick="squareclicked(this);">
    <br>
    <p id="status">X's turn</p>
    <input type="button" id="newgame" value="New Game" onclick="newgame();">
  </body>
</html>
